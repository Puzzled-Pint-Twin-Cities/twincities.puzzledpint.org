---
permalink: /standings/
title: Standings
layout: default
---
{% include color-style.html %}

<div class="container">
    <div class="row">
      <div class="column" style="margin-top: 10%; margin-bottom: 10%">

        <a href="/"><img src="/images/favicon.svg" class="avatar" alt="Puzzled Pint Twin Cities Logo" /></a>

        <h2 role="heading">Events</h2>
        <table>
            <tr>
                <th>Event</th>
                <th>Theme</th>
                <th>Attendees</th>
                <th>Fastest Team</th>
                <th>Time</th>
            </tr>
            
            {% assign events =  site.data.events | reverse %}
            {% assign today = site.time | date:"%Y-%m-%d" %}

            {% for row in events %}
            {% assign attendees = 0 %}
            {% assign month_results = site.data.results | where: "Date", row.date %}
            {% assign rowDate = row.date | date:"%Y-%m-%d" %}

            {% for r in month_results %}
                {% assign attendees = attendees | plus: r['Team Size'] %}
            {% endfor %}
            
            <tr>
                <td>
                    <a href='/standings/{{row.date|date:"%Y-%m"}}/' title='Standings for {{row.date|date:"%B %Y"}}'>
                        {{row.date|date:"%B %Y"}}
                    </a>
                </td>
                <td class=subtle>{{row.theme}}</td>
                
                {% if row.sheetURL %}
                <td colspan=3 class=time><span style="min-width: 250px;display: inline-block;">LIVE</span></td>
                
                <!-- If the date is in the future, then show registration link -->
                {% elsif rowDate >= today %}
                <td colspan=2>
                    <!-- TODO: Change to a simpler JS based countdown -->
                    <iframe id="online-alarm-kur-iframe" src="https://embed-countdown.onlinealarmkur.com/en/#{{row.date}}T19:00:00@America%2FChicago" width="300" height="60" style="display: block; margin: 0px auto; border: 0px;"></iframe>
                </td>
                <td>
                    <a class="button button-default" href='https://puzzledpint.org/events/{{ currentEvent.date | date:"%B-%Y" | downcase }}/' target="_blank" rel="noopener" role="button"><img class="icon" src="/images/icons/generic-calendar.svg" alt="Registration Link for Next Puzzled Pint">RSVP</a>
                </td>
                {% elsif attendees == 0 %}
                <td colspan=3>
                    No Attendees
                </td>
                {% else %}

                <td><span>{{attendees}}</span></td>
                {% assign top_team = month_results.first %}
                <td class="team color-{{month_results.first.color_index}}">
                    <a href="/teams/{{top_team.slug}}/" title="Team Page for {{top_team['Team Name'] | escape}}">
                        {{top_team['Team Name'] | escape}}
                    </a>
                </td>
                <td class=time>
                    {% if top_team.solved %}
                    <span>{{top_team.duration | duration_to_string}}</span>
                    {% endif %}
                </td>
                {% endif %}
            </tr>
            {% endfor %}

      </div>
    </div>
</div>